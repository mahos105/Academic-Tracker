<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./AttChecker.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Document</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
    
      .page {
        display: flex;
        min-height: 100vh;
      }
    
      .main {
        flex: 1;
        padding: 2rem;
      }
    
      .container {
        max-width: 960px;
      }
    
      h2 {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 1rem;
      }
    
      h3 {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 1rem;
      }
    
      form {
        margin-bottom: 1rem;
      }
    
      #results {
        overflow-x: auto;
      }
    
      table {
        width: 100%;
        border-collapse: collapse;
      }
    
      th,
      td {
        padding: 0.5rem;
        border: 1px solid #ddd;
      }
    
      th {
        background-color: #f2f2f2;
        font-weight: bold;
      }
    
      tr:nth-child(even) {
        background-color: #f2f2f2;
      }
    </style>
</head>
<body>
      <div class="page">
        <aside class="left-side sidebar-offcanvas">
        <div class="d-flexone flex-column flex-shrink-0 p-3 bg-body-" style="width: 280px;">
        <a href="../TMain/Main.html" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="white" class="bi bi-clipboard2-check" viewBox="0 0 16 16">
            <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z"/>
            <path d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z"/>
            <path d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3Z"/>
          </svg><use xlink:href="#bootstrap"></use></svg>
          <span class="fs-3">Academic Tracker<h6 id="txt">Teacher</h6></span>
          
        </a>
        <hr>
        <ul class="nav nav-pills flex-column mb-auto">
          <li>
            <a href="../Assignment(T)/AssgnT.html" class="nav-link link-body-emphasis" class="btn">
              <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#speedometer2"></use></svg>
              <a href="../Assignment(T)/AssgnT.html" class="btn btn-warning" id="trialOne"> Assignments</a>
            </a>
          </li>
          <li>
            <a href="../Lessonplan/lessonplan1.html" class="nav-link link-body-emphasis">
            <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#speedometer2"></use></svg>
              <a href="../Lessonplan/lessonplan1.html" class="btn btn-warning" id="trialOne">Lesson Plan</a>
            </a>
          </li>
          <li>
            <a href="../Schedule/schedule.html" class="nav-link link-body-emphasis">
              <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#grid"></use></svg>
              <a href="../Schedule/schedule.html" class="btn btn-warning" id="trialOne">Schedule</a>
            </a>
          </li>
          <li>
            <a href="../Syllabus/syllabus.html" class="nav-link link-body-emphasis">
              <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#grid"></use></svg>
              <a href="../Syllabus/syllabus.html" class="btn btn-warning" id="trialOne">Syllabus</a>
            </a>
          </li>
          <li>
            <a href="#" class="nav-link link-body-emphasis">
              <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#people-circle"></use></svg>
              <a href="../Index/AttendanceCheck.html" class="btn btn-warning" id="trialOne">Attendance Overview</a>
            </a>
          </li>
          <li>
            <a href="../Schedule/schedule.html" class="nav-link link-body-emphasis">
              <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#grid"></use></svg>
              <a href="../T_attendance/t_att.html" class="btn btn-warning" id="trialOne">Attendance</a>
            </a>
          </li>
          <li>
            <a href="#" class="nav-link link-body-emphasis">
              <svg class="bi pe-none me-2" width="16" height="16"><use xlink:href="#people-circle"></use></svg>
              <a href="../../LoginPage.html"class="btn btn-danger" style="text-align: left;width: 150px;">Log-Out</a>
            </a>
          </li>
        </ul>
        <hr>
        </aside>
      <!-- <div class="page">
        <main class="main">
          <h2 class="border-bottom">Teacher's Dashboard</h2>
          <div class="container mt-5">
            <h3 class="mb-3">Attendance Checker</h3>
            <form id="attendanceForm">
              <div class="mb-3">
                <label for="percentage" class="form-label">Enter Percentage:</label>
                <input type="number" class="form-control" id="percentage" name="percentage" required>
              </div>
              <button type="submit" class="btn btn-primary">Check</button>
            </form>
            <div id="results" class="mt-4">
              <table class="table table-bordered table-striped">
                <thead>
                  <tr>
                    <th>Roll No</th>
                    <th>Name</th>
                    <th>Attendance</th>
                  </tr>
                </thead>
                <tbody id="resultsTableBody">
                </tbody>
              </table>
            </div>
          </div>
        </main>
      </div>
          <script>
            document.getElementById('attendanceForm').addEventListener('submit', async (e) => {
              e.preventDefault();
              const percentage = document.getElementById('percentage').value;
              const response = await fetch('http://localhost:3000/check', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: `percentage=${percentage}`
              });
              const data = await response.json();
              const tableBody = document.getElementById('resultsTableBody');
              tableBody.innerHTML = '';
              data.forEach(student => {
                const row = `<tr>
                                <td>${student.rollno}</td>
                                <td>${student.name}</td>
                                <td>${student.attendance}</td>
                             </tr>`;
                tableBody.innerHTML += row;
              });
            });
          </script> -->
              <main class="main">
                <h2 class="border-bottom">Teacher's Dashboard</h2>
                <div class="container mt-5">
                  <h3 class="mb-3">Attendance Checker</h3>
                  <form id="attendanceForm">
                    <div class="mb-3">
                      <label for="percentage" class="form-label">Enter Percentage:</label>
                      <input type="number" class="form-control" id="percentage" name="percentage" required>
                    </div>
                    <div class="mb-3">
                      <label for="subject" class="form-label">Select Subject:</label>
                      <select class="form-select" id="subject" name="subject">
                        <option value="attendance">Total</option>
                        <option value="Maths">Maths</option>
                        <option value="Phys">Phys</option>
                        <option value="Chem">Chem</option>
                        <option value="EG">EG</option>
                        <option value="CP">CP</option>
                        <option value="PCE">PCE</option>
                      </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Check</button>
                  </form>
                  <div id="results" class="mt-4">
                    <table class="table table-bordered table-striped">
                      <thead>
                        <tr>
                          <th>Roll No</th>
                          <th>Name</th>
                          <th>Attendance</th>
                        </tr>
                      </thead>
                      <tbody id="resultsTableBody">
                      </tbody>
                    </table>
                  </div>
                </div>
              </main>
            </div>
            <script>
              document.getElementById('attendanceForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                const percentage = document.getElementById('percentage').value;
                const subject = document.getElementById('subject').value;
                const response = await fetch('http://localhost:3000/check', {
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                  },
                  body: `percentage=${percentage}&subject=${subject}`
                });
                const data = await response.json();
                const tableBody = document.getElementById('resultsTableBody');
                tableBody.innerHTML = '';
                data.forEach(student => {
                  const row = `<tr>
                                  <td>${student.rollno}</td>
                                  <td>${student.name}</td>
                                  <td>${student[subject]}</td>
                               </tr>`;
                  tableBody.innerHTML += row;
                });
              });
            </script>
            <script src="./server.js"></script>
          </body>
</body>
</html>